<div class="navbar">
  <nav class="bg-steel-grey">
    <div class="sm:(relative flex justify-between) items-center">
      <div class="justify-between flex-row relative flex items-center h-13">
        <div class="flex items-center">
          <mobile-menu-toggle-button v-if="navMenus !== undefined && navMenus.length" v-model:isToggled="hasToggledMobileMenu" @toggleMobileMenu="toggleMobileMenu()"/>
          <router-link to="/" class="<sm:w-11" @click="removeSelectedProject()">
            <div class="flex-shrink-0 flex items-center ml-4 mr-2 <sm:(mb-0 mx-2)">
              <img
                class="h-9 <sm:h-7"
                src="/src/assets/rfcx-logo.svg"
                alt="Rainforest connection"
              >
              <div class="font-semibold text-primary ml-2 <md:hidden">
                {{ $t('Guardian Dashboard') }}
              </div>
            </div>
          </router-link>
          <div
            v-if="user"
            @click="toggleProjectSelector(true)"
            id="select-project-btn"
            class="navbar-item text-sm h-9 px-2 mt-0.5 <sm:px-0.5 hover:bg-box-grey rounded-md cursor-pointer"
          >
            <span class="max-w-36 sm:max-w-24 lg:max-w-36 ml-1 truncate">{{ selectedProjectName }}</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
        </div>
        <div class="flex items-center mx-4 sm:hidden">
          <auth-navbar-item-component/>
        </div>
      </div>
      <div class="flex-col sm:(flex-1 flex flex-row items-center) <sm:(border-t-box-grey border-t-1)" :class="hasToggledMobileMenu ? 'visible' : 'hidden' ">
        <router-link
            v-for="(item, idx) in navMenus"
            :key="'nav-menus-' + idx"
            :to="item.destination"
            class="navbar-item navbar-menu-item divide-solid divide-x <sm:(h-10 justify-start pl-4)"
            @click="hasToggledMobileMenu = false"
          >
            {{ item.label }}
        </router-link>
      </div>
      <div class="flex items-center mx-4 relative">
        <select v-model="$i18n.locale" class="relative w-full bg-steel-grey rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-pointer focus:shadow-none outline-none focus:outline-none focus:border-transparent border-transparent sm:text-sm w-30 flex items-center mr-2 <sm:mb-2">
          <option v-for="(lang, i) in languages" :key="`lang${i}`" :value="lang.value">
            <span :title="lang.title">{{ lang.flag }} {{ lang.title }}</span>
          </option>
        </select>
      </div>
      <div class="flex items-center mx-4 <sm:hidden">
        <auth-navbar-item-component/>
      </div>
    </div>
  </nav>
  <project-selector-component v-if="hasOpenedProjectSelector" @close-project-selector="toggleProjectSelector" />
</div>
